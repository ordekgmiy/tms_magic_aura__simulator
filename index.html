<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>é­”æ³•éˆæ°£æ¨¡æ“¬å™¨</title>
  <!-- ç”¨ä¾†å‹•æ…‹åˆ‡æ›ä¸»é¡Œ -->
  <link id="themeStylesheet" rel="stylesheet" href="style-dark.css" />
  <style>
    body {
      font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
      margin: 0;
      padding: 20px;
    }

    h2 {
      margin-top: 0;
    }

    /* å³ä¸Šè§’åˆ‡æ›æŒ‰éˆ• */
    #themeToggleBtn {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 1000;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: inherit;
      line-height: 1;
      padding: 0;
      margin: 0;
    }

    .main-layout {
      display: flex;
      gap: 20px;
      margin-top: 40px; /* é¿é–‹å³ä¸Šè§’æŒ‰éˆ• */
      flex-wrap: wrap;
    }

    .column-left {
      width: 200px; /* å·¦æ¬„å›ºå®šå¯¬åº¦ */
    }

    .column-middle, .column-right {
      flex: 1;
    }

    /* çµ±è¨ˆå€ & æ¨¡æ“¬çµæœå€ */
    #statistics, #output {
      font-family: 'Noto Sans Mono CJK', 'Microsoft JhengHei', monospace;
      font-weight: 600; /* â† åŠ ç²— */
      padding: 10px;
      border-radius: 6px;
      white-space: pre-wrap;
      word-break: break-word;
      max-height: 600px;
      overflow-y: auto;
    }

    label, input, select, button {
      display: block;
      margin-bottom: -10px;
      font-family: inherit;
      font-size: 1rem;
    }

    input, select {
      width: 160px;
    }

    button {
      padding: 10px 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>é­”æ³•éˆæ°£æ¨¡æ“¬å™¨</h2>

  <!-- å³ä¸Šè§’åˆ‡æ›ä¸»é¡Œ -->
  <button id="themeToggleBtn" title="åˆ‡æ›ä¸»é¡Œ">ğŸŒ™</button>

  <div class="main-layout">
    <!-- å·¦æ¬„ -->
    <div class="column column-left">
      <label>ç›®æ¨™ç­‰æ•ˆé­”æ”»ï¼š</label>
      <input type="number" id="targetMa" value="5"><br>
      <label>1é­”æ”»ç­‰æ•ˆINTï¼š</label>
      <input type="number" id="maToInt" value="1.5"><br>
      <label>1é­”æ”»ç­‰æ•ˆå…¨å±¬ï¼š</label>
      <input type="number" id="maToAll" value="1.65"><br>
      <label>æ¨¡æ“¬ä»¶æ•¸ï¼š</label>
      <input type="number" id="simCount" value="1000"><br>
      <label>æ½›èƒ½ç­‰ç´šï¼š</label>
      <select id="potentialType">
        <option value="special">ç‰¹æ®Šæ½›èƒ½</option>
        <option value="rare">ç¨€æœ‰æ½›èƒ½</option>
        <option value="epic">ç½•è¦‹æ½›èƒ½</option>
        <option value="legend">å‚³èªªæ½›èƒ½</option>
      </select><br>
      <button id="startSimBtn">é–‹å§‹æ¨¡æ“¬</button>
    </div>

    <!-- ä¸­æ¬„ -->
    <div class="column column-middle">
      <h3>çµ±è¨ˆçµæœ</h3>
      <div id="statistics"></div>
    </div>

    <!-- å³æ¬„ -->
    <div class="column column-right">
      <h3>æ¨¡æ“¬çµæœ</h3>
      <div id="output"></div>
    </div>
  </div>

  <script src="data.js"></script>
  <script src="simulate.js"></script>

  <script>
    const themeBtn = document.getElementById('themeToggleBtn');
    const themeLink = document.getElementById('themeStylesheet');

    // åˆå§‹åŒ–ä¸»é¡Œ
    let currentTheme = localStorage.getItem('selectedStyle') || 'dark';
    themeLink.href = currentTheme === 'dark' ? 'style-dark.css' : 'style-light.css';
    themeBtn.textContent = currentTheme === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';

    // é»æ“ŠæŒ‰éˆ•åˆ‡æ›ä¸»é¡Œ
    themeBtn.addEventListener('click', () => {
      if (themeLink.href.includes('dark')) {
        themeLink.href = 'style-light.css';
        themeBtn.textContent = 'â˜€ï¸';
        localStorage.setItem('selectedStyle', 'light');
      } else {
        themeLink.href = 'style-dark.css';
        themeBtn.textContent = 'ğŸŒ™';
        localStorage.setItem('selectedStyle', 'dark');
      }
    });
  </script>
</body>
</html>
